\hypertarget{config_8h}{}\doxysection{config.\+h File Reference}
\label{config_8h}\index{config.h@{config.h}}


Function to read and pars the \mbox{\hyperlink{structConfig}{Config}} file.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structConfig}{Config}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{structConfig}{Config}} struct. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{config_8h_a2a97e742f32ed43aed0b56831f084eea}\label{config_8h_a2a97e742f32ed43aed0b56831f084eea}} 
\#define {\bfseries DEFAULT\+\_\+\+CONFIG\+\_\+\+FILENAME}~\char`\"{}tests/config.\+conf\char`\"{}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{config_8h_a930bec8740a97b255c78e8cfd0aff2dd}\label{config_8h_a930bec8740a97b255c78e8cfd0aff2dd}} 
typedef struct \mbox{\hyperlink{structConfig}{Config}} {\bfseries config\+\_\+t}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structConfig}{config\+\_\+t}} $\ast$ \mbox{\hyperlink{config_8h_a0ce16bb38a3b691d96c8ec73fcd3d87f}{read\+Config\+File}} (char $\ast$filename)
\begin{DoxyCompactList}\small\item\em reads the config file with the given filename. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{config_8h_ac52b4a54ac8297d586c79611b494d0af}\label{config_8h_ac52b4a54ac8297d586c79611b494d0af}} 
int {\bfseries parse\+Line} (char $\ast$line, \mbox{\hyperlink{structConfig}{config\+\_\+t}} $\ast$config)
\item 
\mbox{\Hypertarget{config_8h_a0fef7a62f169d20671df7c6a478040e2}\label{config_8h_a0fef7a62f169d20671df7c6a478040e2}} 
int {\bfseries parse\+Attr} (char $\ast$attr, char $\ast$value, \mbox{\hyperlink{structConfig}{config\+\_\+t}} $\ast$config)
\item 
\mbox{\Hypertarget{config_8h_aeb53f2dc42529719cd6735fa4c3300f9}\label{config_8h_aeb53f2dc42529719cd6735fa4c3300f9}} 
void {\bfseries free\+Config} (\mbox{\hyperlink{structConfig}{config\+\_\+t}} $\ast$config)
\item 
\mbox{\Hypertarget{config_8h_a8864c2a1991b45606ac29a520b652724}\label{config_8h_a8864c2a1991b45606ac29a520b652724}} 
void {\bfseries printf\+Config} (\mbox{\hyperlink{structConfig}{config\+\_\+t}} $\ast$config)
\item 
\mbox{\Hypertarget{config_8h_ad4a4a950ea73de242057c2f0da3a4f14}\label{config_8h_ad4a4a950ea73de242057c2f0da3a4f14}} 
char $\ast$ {\bfseries parse\+Word} (char $\ast$ptr, char c, int len)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Function to read and pars the \mbox{\hyperlink{structConfig}{Config}} file. 

This contains the functions for the \mbox{\hyperlink{structConfig}{Config}} file reader and parser and the config struct.

\begin{DoxyAuthor}{Author}
Lukas Lorenz Mahr (Plutokekz) 
\end{DoxyAuthor}
\begin{DoxyRefDesc}{Bug}
\item[\mbox{\hyperlink{bug__bug000001}{Bug}}]No known bugs. \end{DoxyRefDesc}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{config_8h_a0ce16bb38a3b691d96c8ec73fcd3d87f}\label{config_8h_a0ce16bb38a3b691d96c8ec73fcd3d87f}} 
\index{config.h@{config.h}!readConfigFile@{readConfigFile}}
\index{readConfigFile@{readConfigFile}!config.h@{config.h}}
\doxysubsubsection{\texorpdfstring{readConfigFile()}{readConfigFile()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structConfig}{config\+\_\+t}}$\ast$ read\+Config\+File (\begin{DoxyParamCaption}\item[{char $\ast$}]{filename }\end{DoxyParamCaption})}



reads the config file with the given filename. 

If the config file is corrupted or it contains an property which is not in the parser list an Error gets thrown and a NULL pointer will be returned.


\begin{DoxyParams}{Parameters}
{\em $\ast$filename} & the name of the config file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
config\+\_\+t struct, NULL pointer if there was an Error. 
\end{DoxyReturn}


Definition at line 150 of file config.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{150                                          \{}
\DoxyCodeLine{151   FILE *fp;}
\DoxyCodeLine{152   \mbox{\hyperlink{structConfig}{config\_t}} *config = malloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structConfig}{config\_t}}));}
\DoxyCodeLine{153   \textcolor{keywordtype}{char} *str = NULL;}
\DoxyCodeLine{154   \textcolor{keywordtype}{size\_t} line\_size;}
\DoxyCodeLine{155   \textcolor{keywordtype}{int} index = 0;}
\DoxyCodeLine{156 }
\DoxyCodeLine{157   fp = fopen(filename, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{158   \textcolor{keywordflow}{if} (fp == NULL) \{}
\DoxyCodeLine{159     printf(\textcolor{stringliteral}{"{}Could not find <\%s>\(\backslash\)n"{}}, filename);}
\DoxyCodeLine{160     printf(\textcolor{stringliteral}{"{}Using Default Config File\(\backslash\)n"{}});}
\DoxyCodeLine{161     fp = fopen(DEFAULT\_CONFIG\_FILENAME, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{162     \textcolor{keywordflow}{if} (fp == NULL) \{}
\DoxyCodeLine{163       printf(\textcolor{stringliteral}{"{}Default config file not available\(\backslash\)n"{}});}
\DoxyCodeLine{164       \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{165     \}}
\DoxyCodeLine{166   \}}
\DoxyCodeLine{167 }
\DoxyCodeLine{168   \textcolor{keywordflow}{while} (getline(\&str, \&line\_size, fp) != -\/1) \{}
\DoxyCodeLine{169     \textcolor{keywordflow}{if} (parseLineV2(str, config, index) != 0) \{}
\DoxyCodeLine{170       freeConfig(config);}
\DoxyCodeLine{171       free(str);}
\DoxyCodeLine{172       fclose(fp);}
\DoxyCodeLine{173       \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{174     \}}
\DoxyCodeLine{175     index++;}
\DoxyCodeLine{176   \}}
\DoxyCodeLine{177   free(str);}
\DoxyCodeLine{178   fclose(fp);}
\DoxyCodeLine{179 }
\DoxyCodeLine{180   \textcolor{keywordflow}{return} config;}
\DoxyCodeLine{181 \}}

\end{DoxyCode}
